{% extends "layouts/app.html" %}
{% block title %}Solicitações{% endblock %}

{% block page_title %}
<div class="d-flex align-items-center w-100">
  <span class="me-auto">
    WorkCost · Solicitações
  </span>

  <div class="ms-auto d-flex gap-2">
    <a href="{{ url_for('auth.my_profile') }}" class="btn btn-outline-info">
      <i class="bi bi-person-circle"></i> Meu Perfil
    </a>

    <a href="{{ url_for('pages.atestados') }}" class="btn btn-outline-warning">
      <i class="bi bi-file-earmark-medical"></i> Atestados
    </a>

    <button class="btn btn-outline-purple" type="button" onclick="toggleFullscreen()">
      <i class="bi bi-arrows-fullscreen"></i>
    </button>

    <a href="{{ url_for('auth.logout') }}" class="btn btn-outline-danger">
      <i class="bi bi-box-arrow-right"></i> Sair
    </a>
  </div>
</div>
{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/solicitacoes.css') }}">

<h4 class="page-title-solicitacoes">
  FORMULÁRIO DE CONTROLE DE EXTRA JORNADA (Overtime Control Form)
</h4>

<form id="formSolicitacao" method="post" action="{{ url_for('api.api_criar_solicitacao') }}">
  <input type="hidden" name="funcionarios_json" id="funcionariosJson">

  <!-- DADOS GERAIS -->
  <div class="card p-4 shadow-sm mb-4">
    <div class="row g-3">

      <div class="col-md-3">
        <label>Data</label>
        <input type="date" name="data" class="form-control" required>
      </div>

      <div class="col-md-4">
        <label>Turno</label><br>
        <input type="checkbox" name="turnos" value="1T"> 1º
        <input type="checkbox" name="turnos" value="2T"> 2º
        <input type="checkbox" name="turnos" value="3T"> 3º
      </div>

      <div class="col-md-5">
        <label>Setor</label>
        <select name="setores" class="form-select" multiple>
          <option>TI</option>
          <option>ENGENHARIA</option>
          <option>MANUTENÇÃO</option>
        </select>
      </div>

      <div class="col-md-4">
        <label>Cliente</label>
        <select name="cliente" class="form-select">
          <option>VTT</option>
          <option>VTE</option>
          <option>VAC</option>
        </select>
      </div>

      <div class="col-md-4">
        <label>Descrição</label>
        <select name="descricao" class="form-select">
          <option>Hora Extra</option>
          <option>Banco de Horas</option>
          <option>Compensação</option>
        </select>
      </div>

    </div>
  </div>

  <!-- FUNCIONÁRIOS -->
  <h5 class="fw-bold">Funcionários da Extra</h5>

  <table class="table table-bordered align-middle" id="funcionariosTable">
    <thead>
      <tr>
        <th>#</th>
        <th>Matrícula</th>
        <th>Colaborador</th>
        <th>Endereço</th>
        <th>Telefone</th>
        <th>Início</th>
        <th>Término</th>
        <th>Transporte</th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button type="button" class="btn btn-secondary btn-add-row mb-3" id="btnAddRow">
    Adicionar linha
  </button>

  <div class="mb-4">
    <label>Atividades a realizar</label>
    <textarea name="atividades" class="form-control" rows="3"></textarea>
  </div>

  <button class="btn btn-primary w-100">
    Registrar Solicitação
  </button>
</form>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/solicitacoes.js') }}"></script>
{% endblock %}
